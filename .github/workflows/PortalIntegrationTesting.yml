name: Portal Integration Testing
on:
  push:
    branches:
      - main
      - AM-1
    
permissions:
    id-token: write
    contents: read

jobs:
  integration-tests-dev:
    name: Run Integration Tests DEV
    if: github.ref != 'refs/heads/main'
    uses: alcantar28/GHAReusableWorkflows/.github/workflows/integration_testing_generic.yml@AM-1
    with:
      gh_environment: dev

  integration-tests-prod:
    name: Run Integration Tests PROD
    if: github.ref == 'refs/heads/main'
    uses: alcantar28/GHAReusableWorkflows/.github/workflows/integration_testing_generic.yml@main
    with:
      gh_environment: prod
